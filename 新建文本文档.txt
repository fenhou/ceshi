port: 7890
socks-port: 7891
allow-lan: false
mode: Rule
log-level: info
external-controller: 127.0.0.1:9090

# ä»£ç†èŠ‚ç‚¹ (ç¤ºä¾‹é…ç½®ï¼Œéœ€æ›¿æ¢ä¸ºä½ çš„å®é™…æœåŠ¡å™¨ä¿¡æ¯)
proxies:
  # Shadowsocks ç¤ºä¾‹
  - name: "SS-ç¾å›½èŠ‚ç‚¹"
    type: ss
    server: us.example.com
    port: 443
    cipher: aes-256-gcm
    password: "your_password"
    udp: true

  # Trojan ç¤ºä¾‹
  - name: "Trojan-æ—¥æœ¬èŠ‚ç‚¹"
    type: trojan
    server: jp.example.com
    port: 443
    password: "your_password"
    sni: "example.com"
    skip-cert-verify: false

  # VMess ç¤ºä¾‹
  - name: "VMess-æ–°åŠ å¡èŠ‚ç‚¹"
    type: vmess
    server: sg.example.com
    port: 443
    uuid: "your_uuid"
    alterId: 0
    cipher: auto
    tls: true
    skip-cert-verify: false

# ç­–ç•¥ç»„ (è‡ªåŠ¨é€‰æ‹©/æ•…éšœè½¬ç§»/æ‰‹åŠ¨åˆ‡æ¢)
proxy-groups:
  - name: "ğŸš€ è‡ªåŠ¨é€‰æ‹©"
    type: url-test
    proxies: ["SS-ç¾å›½èŠ‚ç‚¹", "Trojan-æ—¥æœ¬èŠ‚ç‚¹", "VMess-æ–°åŠ å¡èŠ‚ç‚¹"]
    url: "http://www.gstatic.com/generate_204"
    interval: 300

  - name: "ğŸ”€ æ•…éšœè½¬ç§»"
    type: fallback
    proxies: ["SS-ç¾å›½èŠ‚ç‚¹", "Trojan-æ—¥æœ¬èŠ‚ç‚¹"]
    url: "http://www.gstatic.com/generate_204"
    interval: 300

  - name: "ğŸ¯ æ‰‹åŠ¨åˆ‡æ¢"
    type: select
    proxies: ["SS-ç¾å›½èŠ‚ç‚¹", "Trojan-æ—¥æœ¬èŠ‚ç‚¹", "VMess-æ–°åŠ å¡èŠ‚ç‚¹", "DIRECT"]

  - name: "ğŸ“º å¥ˆé£ä¸“ç”¨"
    type: select
    proxies: ["Trojan-æ—¥æœ¬èŠ‚ç‚¹", "VMess-æ–°åŠ å¡èŠ‚ç‚¹"]

# è§„åˆ™é›† (æ”¯æŒè¿œç¨‹è§„åˆ™)
rule-providers:
  reject:
    type: http
    behavior: domain
    url: "https://cdn.jsdelivr.net/gh/Loyalsoldier/clash-rules@release/reject.txt"
    path: ./ruleset/reject.yaml
    interval: 86400

  streaming:
    type: http
    behavior: classical
    url: "https://cdn.jsdelivr.net/gh/Loyalsoldier/clash-rules@release/streaming.txt"
    path: ./ruleset/streaming.yaml
    interval: 86400

# è§„åˆ™ä¼˜å…ˆçº§ï¼šä»ä¸Šåˆ°ä¸‹åŒ¹é…
rules:
  - RULE-SET,reject,REJECT
  - RULE-SET,streaming,ğŸ“º å¥ˆé£ä¸“ç”¨
  - GEOIP,CN,DIRECT
  - MATCH,ğŸš€ è‡ªåŠ¨é€‰æ‹©